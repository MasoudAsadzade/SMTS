<html>
<head>
    <title>SMT Viewer</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/timeline.css">
    <link rel="stylesheet" href="css/tree.css">
    <style type="text/css"></style>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <link rel="shortcut icon" type="image/x-icon" href="images/Logo_Budakovic.png"/>
    <base href="">
</head>

<body ng-app="myApp">

<div id="smts-main">
    <div id="smts-views" class="row container-fluid">
        <!--First column-->
        <div id="smts-column-1" class="col-sm-3 smts-column">
            <!--Title-->
            <div id="smts-title" class="">SMT Viewer</div>
            <!--Instance-->
            <div id="smts-instances-container" class="smts-container" ng-controller="InstancesController" ng-init='load()'>
                <div id="smts-instances-title" class="smts-container-title">Instances</div>

                <div id="smts-instances-table-container" class="smts-table-container">
                    <table class="smts-table smts-table-interactive">
                        <thead>
                        <th>Instances</th>
                        </thead>
                        <tbody>
                        <tr data-instance="{{instance.name}}"
                            ng-repeat="instance in instances"
                            ng-click="clickEvent($event,instance)">
                            <td>{{instance.name}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!--Task Handeler-->
            <div id="smts-task-handler" class="smts-hidden smts-container" ng-controller="TaskHandler" ng-init='load()'>
                <div id="solInst" class="smts-hidden">
                    <b>Solving Instance:</b>
                    <h id="solvingInstance">{{solvingInstance}}{{solvingInstanceRemaining}}</h>
                </div>

                <div id="newDB" class="smts-hidden">
                    <b>Upload new database file:</b>
                    <form id="uploadDB"
                          ref='uploadForm'
                          id='uploadForm'
                          action='/upload'
                          method='post'
                          encType="multipart/form-data">
                        <input id="db" type="file" name="db" accept=".db" required>
                        <input type='submit' value='Upload!'/>
                    </form>
                </div>

                <div id="newInst" class="smts-hidden">
                    <b>Upload new instance:</b>
                    <form ref='uploadInstanceForm'
                          id='uploadInstanceForm'
                          action='/uploadInstance'
                          method='post'
                          encType="multipart/form-data">
                        <input type="file" name="instance" accept="" required>
                        <input type='submit' value='Upload!'/>
                    </form>
                </div>
                <div id="task" class="smts-hidden">
                    <form>
                        <b>Timeout:</b><input type="text" name="timeout"><br>
                        <input type="submit" value="Increase" ng-click="increaseTimeout()">
                        <input type="submit" value="Decrease" ng-click="decreaseTimeout()">
                        <input type="submit" name="stopTimeout" value="Stop" ng-click="stopSS()">
                    </form>
                </div>
            </div>

            <!-- Tree options -->
            <div id="smts-options-container">
                <div id="smts-options-title" class="smts-container-title">Options</div>
                <div class="checkbox">
                    <label><input id="smts-option-balanceness" type="checkbox" onclick="updateOptionBalanceness()">
                        Show balanceness
                    </label>
                </div>
            </div>
        </div>

        <!--Second column-->
        <div id="smts-column-2" class="col-sm-6 container-fluid smts-column">
            <!--Tree view-->
            <div id="smts-tree-container" class="smts-container" ng-controller="ViewController"></div>

            <!--Event view-->
            <div id="smts-events-container" class="smts-container" ng-controller="EventController">
                <div id="smts-events-title" class="smts-container-title">Events</div>

                <ul id="smts-events-navbar" class="nav nav-tabs smts-navbar">
                    <li id="smts-events-navbar-all" class="active"><a data-toggle="tab" href="" ng-click="showAll()">All</a></li>
                    <li id="smts-events-navbar-selected" ><a data-toggle="tab" href="" ng-click="showSelected()">Selected</a></li>
                </ul>

                <div id="smts-events-table-container" class="smts-table-container">
                    <table id="smts-events-table" class="smts-table smts-table-interactive">
                        <thead>
                        <tr>
                            <th>Nr</th>
                            <th>Time</th>
                            <th>Node</th>
                            <th>Event</th>
                            <th>Solver</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr id="event{{event.id}}" data-event="{{event.id}}" ng-repeat="event in events" ng-click="showEvent($event,$index,event)">
                            <td>{{$index}}</td>
                            <td>{{event.ts}}s</td>
                            <td>{{event.node}}</td>
                            <td>{{event.event}}</td>
                            <td>{{event.solver}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!--Third column-->
        <div id="smts-column-3" class="col-sm-3 smts-column">
                <!--Solver view-->
                <div id="smts-solvers-container" class="smts-container" ng-controller="SolverController">
                    <div id="smts-solvers-title" class="smts-container-title">Solvers</div>

                    <ul id="smts-solvers-navbar" class="nav nav-tabs smts-navbar">
                        <li id="smts-solvers-navbar-all" class="active"><a data-toggle="tab" href="" ng-click="showAll()">All</a></li>
                        <li id="smts-solvers-navbar-selected" ><a data-toggle="tab" href="" ng-click="showSelected()">Selected</a></li>
                    </ul>

                    <div id="smts-solvers-table-container" class="smts-table-container">
                        <table id="smts-solvers-table" class="smts-table smts-table-interactive">
                            <thead>
                            <th>Solver</th>
                            <th>Node</th>
                            </thead>
                            <tbody>
                            <tr data-node="{{solver.node}}" ng-repeat="solver in solvers" ng-click="clickEvent($event,solver)">
                                <td>{{solver.name}}</td>
                                <td>{{solver.node}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!--Data view-->
                <div id="smts-data-container" class="smts-container">
                    <div id="smts-data-title" class="smts-container-title"></div>
                    <div id="smts-data-table-container" class="smts-table-container"></div>
                </div>
            </div>
    </div>

    <div id="smts-timeline" class="row">
        <div id="smts-timeline-line"></div>
        <div id="smts-timeline-span"></div>
    </div>
</div>

</body>
<script type="text/javascript" src="https://code.angularjs.org/1.5.3/angular.min.js"></script>

<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="angular/main.js"></script>
<script type="text/javascript" src="angular/EventController.js"></script>
<script type="text/javascript" src="angular/InstancesController.js"></script>
<script type="text/javascript" src="angular/SolverController.js"></script>
<script type="text/javascript" src="angular/TaskHandlerController.js"></script>
<script type="text/javascript" src="angular/ViewController.js"></script>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script type="text/javascript" src="scripts/utils.js"></script>
<script type="text/javascript" src="scripts/options.js"></script>
<script type="text/javascript" src="scripts/dndTree.js"></script>
<script type="text/javascript" src="scripts/ng-file-upload.min.js"></script>
<script type="text/javascript" src="scripts/ng-file-upload-shim.min.js"></script>
<script type="text/javascript" src="scripts/prettyprint.js"></script>
<script type="text/javascript" src="treeManager/Event.js"></script>
<script type="text/javascript" src="treeManager/Node.js"></script>
<script type="text/javascript" src="treeManager/Solver.js"></script>
<script type="text/javascript" src="treeManager/Tree.js"></script>
<script type="text/javascript" src="scripts/timeline.js"></script>

</html>